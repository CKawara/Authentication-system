{"ast":null,"code":"import React,{useEffect}from'react';import Navbar from'./Navbar';import{connect}from'react-redux';import{CheckAuthenticated,load_user,googleAuthenticate}from'../actions/auth';import{useLocation}from'react-router-dom';import queryString from'query-string';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Layout=function Layout(props){var location=useLocation();useEffect(function(){// grab url and put it in a key value format\nvar values=queryString.parse(location.search);var state=values.state?values.state:null;var code=values.code?values.code:null;console.log('state'+state);console.log('code'+code);if(state&&code){props.googleAuthenticate(state,code);}else{props.CheckAuthenticated();props.load_user();}},[location]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),props.children]});};export default connect(null,{CheckAuthenticated:CheckAuthenticated,load_user:load_user,googleAuthenticate:googleAuthenticate})(Layout);","map":{"version":3,"names":["React","useEffect","Navbar","connect","CheckAuthenticated","load_user","googleAuthenticate","useLocation","queryString","Layout","props","location","values","parse","search","state","code","console","log","children"],"sources":["C:/Users/user/Desktop/Auth_application/client/src/components/Layout.js"],"sourcesContent":["import React, {useEffect} from 'react'\r\nimport Navbar from './Navbar'\r\nimport {connect} from 'react-redux'\r\nimport {CheckAuthenticated, load_user, googleAuthenticate} from '../actions/auth'\r\nimport { useLocation } from 'react-router-dom'\r\nimport queryString from 'query-string'\r\n\r\n\r\nconst Layout = (props) => {\r\n    let location = useLocation()\r\n    useEffect(() => {\r\n        // grab url and put it in a key value format\r\n        const values = queryString.parse(location.search)\r\n        const state = values.state ? values.state: null\r\n        const code = values.code ? values.code : null\r\n        \r\n        console.log('state' + state);\r\n        console.log('code' + code);\r\n\r\n        if(state && code){\r\n            props.googleAuthenticate(state, code)\r\n        } else{\r\n            props.CheckAuthenticated()\r\n            props.load_user()\r\n        }\r\n    }, [location])\r\n\r\n    return (\r\n        <div>\r\n            <Navbar/>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(null, {CheckAuthenticated, load_user, googleAuthenticate})(Layout)\r\n"],"mappings":"AAAA,MAAOA,MAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAOC,OAAP,KAAmB,UAAnB,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,kBAAR,CAA4BC,SAA5B,CAAuCC,kBAAvC,KAAgE,iBAAhE,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,YAAP,KAAwB,cAAxB,C,wFAGA,GAAMC,OAAM,CAAG,QAATA,OAAS,CAACC,KAAD,CAAW,CACtB,GAAIC,SAAQ,CAAGJ,WAAW,EAA1B,CACAN,SAAS,CAAC,UAAM,CACZ;AACA,GAAMW,OAAM,CAAGJ,WAAW,CAACK,KAAZ,CAAkBF,QAAQ,CAACG,MAA3B,CAAf,CACA,GAAMC,MAAK,CAAGH,MAAM,CAACG,KAAP,CAAeH,MAAM,CAACG,KAAtB,CAA6B,IAA3C,CACA,GAAMC,KAAI,CAAGJ,MAAM,CAACI,IAAP,CAAcJ,MAAM,CAACI,IAArB,CAA4B,IAAzC,CAEAC,OAAO,CAACC,GAAR,CAAY,QAAUH,KAAtB,EACAE,OAAO,CAACC,GAAR,CAAY,OAASF,IAArB,EAEA,GAAGD,KAAK,EAAIC,IAAZ,CAAiB,CACbN,KAAK,CAACJ,kBAAN,CAAyBS,KAAzB,CAAgCC,IAAhC,EACH,CAFD,IAEM,CACFN,KAAK,CAACN,kBAAN,GACAM,KAAK,CAACL,SAAN,GACH,CACJ,CAfQ,CAeN,CAACM,QAAD,CAfM,CAAT,CAiBA,mBACI,oCACI,KAAC,MAAD,IADJ,CAEKD,KAAK,CAACS,QAFX,GADJ,CAMH,CAzBD,CA2BA,cAAehB,QAAO,CAAC,IAAD,CAAO,CAACC,kBAAkB,CAAlBA,kBAAD,CAAqBC,SAAS,CAATA,SAArB,CAAgCC,kBAAkB,CAAlBA,kBAAhC,CAAP,CAAP,CAAmEG,MAAnE,CAAf"},"metadata":{},"sourceType":"module"}